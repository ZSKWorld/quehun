{"version":3,"file":"laya.device.js","sources":["../../bin/tsc/layaAir/laya/device/motion/Accelerator.js","../../bin/tsc/layaAir/laya/device/Shake.js","../../bin/tsc/layaAir/laya/device/WebDeviceAdapter.js","../../bin/tsc/layaAir/laya/device/geolocation/Geolocation.js","../../bin/tsc/layaAir/laya/device/media/Media.js","../../bin/tsc/layaAir/laya/device/motion/Gyroscope.js"],"sourcesContent":["import { EventDispatcher } from \"../../events/EventDispatcher\";\nimport { ILaya } from \"../../../ILaya\";\nimport { Event } from \"../../events/Event\";\nimport { PAL } from \"../../platform/PlatformAdapters\";\nexport class Accelerator extends EventDispatcher {\n    static get instance() {\n        Accelerator._instance = Accelerator._instance || new Accelerator();\n        return Accelerator._instance;\n    }\n    constructor() {\n        super();\n    }\n    onStartListeningToType(type) {\n        if (type === Event.CHANGE)\n            PAL.device.on(\"devicemotion\", this, this.onDeviceMotionChange);\n        return this;\n    }\n    onDeviceMotionChange(acceleration, accelerationIncludingGravity, interval, rotationRate) {\n        this.event(Event.CHANGE, [acceleration, accelerationIncludingGravity, rotationRate, interval]);\n    }\n    static getTransformedAcceleration(acceleration) {\n        Accelerator.transformedAcceleration = Accelerator.transformedAcceleration || { x: 0, y: 0, z: 0 };\n        Accelerator.transformedAcceleration.z = acceleration.z;\n        let ot = PAL.browser.getScreenOrientation();\n        if (ot === \"landscape-primary\") {\n            Accelerator.transformedAcceleration.x = acceleration.y;\n            Accelerator.transformedAcceleration.y = -acceleration.x;\n        }\n        else if (ot === \"landscape-secondary\") {\n            Accelerator.transformedAcceleration.x = -acceleration.y;\n            Accelerator.transformedAcceleration.y = acceleration.x;\n        }\n        else if (ot === \"portrait-primary\") {\n            Accelerator.transformedAcceleration.x = acceleration.x;\n            Accelerator.transformedAcceleration.y = acceleration.y;\n        }\n        else if (ot === \"portrait-secondary\") {\n            Accelerator.transformedAcceleration.x = -acceleration.x;\n            Accelerator.transformedAcceleration.y = -acceleration.y;\n        }\n        let tx;\n        if (ILaya.stage.canvasDegree == -90) {\n            tx = Accelerator.transformedAcceleration.x;\n            Accelerator.transformedAcceleration.x = -Accelerator.transformedAcceleration.y;\n            Accelerator.transformedAcceleration.y = tx;\n        }\n        else if (ILaya.stage.canvasDegree == 90) {\n            tx = Accelerator.transformedAcceleration.x;\n            Accelerator.transformedAcceleration.x = Accelerator.transformedAcceleration.y;\n            Accelerator.transformedAcceleration.y = -tx;\n        }\n        return Accelerator.transformedAcceleration;\n    }\n}\n","import { Accelerator } from \"./motion/Accelerator\";\nimport { EventDispatcher } from \"../events/EventDispatcher\";\nimport { Event } from \"../events/Event\";\nimport { Browser } from \"../utils/Browser\";\nexport class Shake extends EventDispatcher {\n    static get instance() {\n        Shake._instance = Shake._instance || new Shake();\n        return Shake._instance;\n    }\n    start(threshold, interval) {\n        this.threshold = threshold;\n        this.shakeInterval = interval;\n        this.lastX = this.lastY = this.lastZ = NaN;\n        Accelerator.instance.on(Event.CHANGE, this, this.onShake);\n    }\n    stop() {\n        Accelerator.instance.off(Event.CHANGE, this, this.onShake);\n    }\n    onShake(acceleration, accelerationIncludingGravity, rotationRate, interval) {\n        if (isNaN(this.lastX)) {\n            this.lastX = accelerationIncludingGravity.x;\n            this.lastY = accelerationIncludingGravity.y;\n            this.lastZ = accelerationIncludingGravity.z;\n            this.lastMillSecond = Browser.now();\n            return;\n        }\n        let deltaX = Math.abs(this.lastX - accelerationIncludingGravity.x);\n        let deltaY = Math.abs(this.lastY - accelerationIncludingGravity.y);\n        let deltaZ = Math.abs(this.lastZ - accelerationIncludingGravity.z);\n        if (this.isShaked(deltaX, deltaY, deltaZ)) {\n            let deltaMillSecond = Browser.now() - this.lastMillSecond;\n            if (deltaMillSecond > this.shakeInterval) {\n                this.event(Event.CHANGE);\n                this.lastMillSecond = Browser.now();\n            }\n        }\n        this.lastX = accelerationIncludingGravity.x;\n        this.lastY = accelerationIncludingGravity.y;\n        this.lastZ = accelerationIncludingGravity.z;\n    }\n    isShaked(deltaX, deltaY, deltaZ) {\n        const mask = (deltaX > this.threshold ? 1 : 0) |\n            (deltaY > this.threshold ? 2 : 0) |\n            (deltaZ > this.threshold ? 4 : 0);\n        return (mask & (mask - 1)) !== 0;\n    }\n}\n","import { DeviceAdapter } from \"../platform/DeviceAdapter\";\nimport { PAL } from \"../platform/PlatformAdapters\";\nimport { Browser } from \"../utils/Browser\";\nexport class WebDeviceAdapter extends DeviceAdapter {\n    constructor() {\n        var _a;\n        super();\n        this._locInfo = { timestamp: 0, accuracy: 0, altitude: 0, altitudeAccuracy: 0, heading: 0, latitude: 0, longitude: 0, speed: 0 };\n        this._accInfo = { x: 0, y: 0, z: 0 };\n        this._accInfo2 = Object.assign({}, this._accInfo);\n        this._rotInfo = { alpha: 0, beta: 0, gamma: 0, absolute: false, compassAccuracy: 0 };\n        this._rotInfo2 = Object.assign({}, this._rotInfo);\n        let navigator = Browser.window.navigator;\n        if (navigator) {\n            this._loc = navigator.geolocation;\n            this._getUserMedia = ((_a = navigator.mediaDevices) === null || _a === void 0 ? void 0 : _a.getUserMedia) || navigator.getUserMedia;\n        }\n    }\n    get supportedLocation() {\n        return !!this._loc;\n    }\n    get supportedGetUserMedia() {\n        return !!this._getUserMedia;\n    }\n    getCurrentPosition(successCallback, errorCallback, options) {\n        if (this._loc)\n            this._loc.getCurrentPosition((pos) => {\n                Object.assign(this._locInfo, pos.coords);\n                this._locInfo.timestamp = pos.timestamp;\n                successCallback(this._locInfo);\n            }, (error) => errorCallback === null || errorCallback === void 0 ? void 0 : errorCallback(error), options);\n        else if (errorCallback)\n            errorCallback(unsupportedError);\n    }\n    watchPosition(successCallback, errorCallback, options) {\n        if (this._loc)\n            return this._loc.watchPosition((pos) => {\n                Object.assign(this._locInfo, pos.coords);\n                this._locInfo.timestamp = pos.timestamp;\n                successCallback(this._locInfo);\n            }, (error) => errorCallback === null || errorCallback === void 0 ? void 0 : errorCallback(error), options);\n        else if (errorCallback) {\n            errorCallback(unsupportedError);\n            return -1;\n        }\n        else\n            return -1;\n    }\n    clearWatchPosition(id) {\n        if (this._loc)\n            this._loc.clearWatch(id);\n    }\n    getUserMedia(constraints, successCallback, errorCallback) {\n        if (this._getUserMedia) {\n            this._getUserMedia(constraints).then(stream => successCallback(stream))\n                .catch((error) => errorCallback === null || errorCallback === void 0 ? void 0 : errorCallback(error));\n        }\n        else\n            errorCallback === null || errorCallback === void 0 ? void 0 : errorCallback(new Error(\"getUserMedia is not supported.\"));\n    }\n    startListeningDeviceMotion() {\n        Browser.window.addEventListener(\"devicemotion\", e => this.onDeviceMotion(e));\n    }\n    startListeningDeviceOrientation() {\n        Browser.window.addEventListener(\"deviceorientation\", e => this.onDeviceOrientation(e));\n    }\n    onDeviceMotion(e) {\n        this._accInfo.x = e.acceleration.x;\n        this._accInfo.y = e.acceleration.y;\n        this._accInfo.z = e.acceleration.z;\n        this._accInfo2.x = e.accelerationIncludingGravity.x;\n        this._accInfo2.y = e.accelerationIncludingGravity.y;\n        this._accInfo2.z = e.accelerationIncludingGravity.z;\n        this._rotInfo.alpha = e.rotationRate.gamma * -1;\n        this._rotInfo.beta = e.rotationRate.alpha * -1;\n        this._rotInfo.gamma = e.rotationRate.beta;\n        let interval = e.interval;\n        if (Browser.onAndroid) {\n            if (Browser.userAgent.indexOf(\"Chrome\") > -1) {\n                this._rotInfo.alpha *= 180 / Math.PI;\n                this._rotInfo.beta *= 180 / Math.PI;\n                this._rotInfo.gamma *= 180 / Math.PI;\n            }\n            this._accInfo.x *= -1;\n            this._accInfo2.x *= -1;\n        }\n        else if (Browser.onIOS) {\n            this._accInfo.y *= -1;\n            this._accInfo.z *= -1;\n            this._accInfo2.y *= -1;\n            this._accInfo2.z *= -1;\n            interval *= 1000;\n        }\n        this.event(\"devicemotion\", [this._accInfo, this._accInfo2, this._rotInfo, e.interval]);\n    }\n    onDeviceOrientation(e) {\n        this._rotInfo2.alpha = e.alpha;\n        this._rotInfo2.beta = e.beta;\n        this._rotInfo2.gamma = e.gamma;\n        if (e.webkitCompassHeading) {\n            this._rotInfo2.alpha = e.webkitCompassHeading * -1;\n            this._rotInfo2.compassAccuracy = e.webkitCompassAccuracy;\n        }\n        this.event(\"deviceorientation\", [e.absolute, this._rotInfo2]);\n    }\n}\nconst unsupportedError = { code: 9, message: \"Geolocation is not supported.\" };\nPAL.register(\"device\", WebDeviceAdapter);\n","import { Handler } from \"../../utils/Handler\";\nimport { PAL } from \"../../platform/PlatformAdapters\";\nexport class Geolocation {\n    static getCurrentPosition(onSuccess, onError) {\n        PAL.device.getCurrentPosition(info => {\n            if (onSuccess instanceof Handler)\n                onSuccess.runWith(info);\n            else\n                onSuccess(info);\n        }, err => {\n            if (onError instanceof Handler)\n                onError.runWith(err);\n            else if (onError)\n                onError(err);\n        }, {\n            enableHighAccuracy: Geolocation.enableHighAccuracy,\n            timeout: Geolocation.timeout,\n            maximumAge: Geolocation.maximumAge\n        });\n    }\n    static watchPosition(onSuccess, onError) {\n        return PAL.device.watchPosition(info => {\n            if (onSuccess instanceof Handler)\n                onSuccess.runWith(info);\n            else\n                onSuccess(info);\n        }, err => {\n            if (onError instanceof Handler)\n                onError.runWith(err);\n            else if (onError)\n                onError(err);\n        }, {\n            enableHighAccuracy: Geolocation.enableHighAccuracy,\n            timeout: Geolocation.timeout,\n            maximumAge: Geolocation.maximumAge\n        });\n    }\n    static clearWatch(id) {\n        PAL.device.clearWatchPosition(id);\n    }\n}\nGeolocation.PERMISSION_DENIED = 1;\nGeolocation.POSITION_UNAVAILABLE = 2;\nGeolocation.TIMEOUT = 3;\nGeolocation.enableHighAccuracy = false;\nGeolocation.timeout = 1E10;\nGeolocation.maximumAge = 0;\n","import { PAL } from \"../../platform/PlatformAdapters\";\nimport { Handler } from \"../../utils/Handler\";\nexport class Media {\n    static supported() {\n        return PAL.device.supportedGetUserMedia;\n    }\n    static getMedia(constraints, onSuccess, onError) {\n        PAL.device.getUserMedia(constraints, stream => {\n            if (onSuccess instanceof Handler)\n                onSuccess.runWith(stream);\n            else\n                onSuccess(stream);\n        }, err => {\n            if (onError instanceof Handler)\n                onError.runWith(err);\n            else if (onError)\n                onError(err);\n        });\n    }\n}\n","import { Event } from \"../../events/Event\";\nimport { EventDispatcher } from \"../../events/EventDispatcher\";\nimport { PAL } from \"../../platform/PlatformAdapters\";\nexport class Gyroscope extends EventDispatcher {\n    static get instance() {\n        Gyroscope._instance = Gyroscope._instance || new Gyroscope();\n        return Gyroscope._instance;\n    }\n    onStartListeningToType(type) {\n        if (type === Event.CHANGE)\n            PAL.device.on(\"deviceorientation\", this, this.onDeviceOrientation);\n        return this;\n    }\n    onDeviceOrientation(absolute, orientationInfo) {\n        this.event(Event.CHANGE, [absolute, orientationInfo]);\n    }\n}\n"],"names":["EventDispatcher","Event","PAL","ILaya","Browser","DeviceAdapter","Handler"],"mappings":"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"}